/**
 * Top course completion - chart init.
 *
 * @module     report_lmsace_reports/topcoursecompletion
 * @copyright  2023 LMSACE <https://lmsace.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("report_lmsace_reports/widgets/topcoursecompletion",["jquery","core/ajax","core/loadingicon","core/chartjs"],(function($,AJAX,LoadIcon){var loadiconElement=$(".topcourse-coursecompletion-reports .loadiconElement");return{init:function(){$(".topcourse-coursecompletion-reports .dropdown-menu a").click((function(){var selText=$(this).text(),filter=$(this).attr("value");$(this).parents(".dropdown").find("#daterangefiltermenu").html(selText+' <span class="caret"></span>');let contextId=$(".reports-block").find("#page-context").attr("value");getCoursecompletionRecords(filter,contextId)}));var getCoursecompletionRecords=function(filter,contextId){filter||(filter="today");var request={methodname:"report_lmsace_reports_table_reports",args:{filter:filter,chartid:"topcoursecompletionwidget",contextid:contextId}},promise=AJAX.call([request])[0];promise.done((function(result){$(".topcourse-coursecompletion-reports").find("#topcourse-coursecompletion-block").empty().append(result)})),LoadIcon.addIconToContainerRemoveOnCompletion(loadiconElement,promise)}}}}));

//# sourceMappingURL=topcoursecompletion.min.js.map