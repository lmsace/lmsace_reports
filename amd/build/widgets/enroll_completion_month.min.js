/**
 * Enroll completion month.
 *
 * @module     report_lmsace_reports/enroll_completion_month
 * @copyright  2023 LMSACE <https://lmsace.com>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("report_lmsace_reports/widgets/enroll_completion_month",["jquery","core/ajax","core/loadingicon","core/chartjs"],(function($,AJAX,LoadIcon,Chart){var chartReport=null,loadiconElement=$(".enrol-completion-month-block  .loadiconElement");return{init:function(){!function(){let ctx=document.getElementById("enrolment-completion-month-chart");if(ctx){let config={type:"bar",data:{labels:enrolcompletionmonth.label,datasets:[{label:enrolcompletionmonth.strenrolment,data:enrolcompletionmonth.enrolment,backgroundColor:"rgba(153, 102, 255, 1)",showTooltips:!1},{label:enrolcompletionmonth.strcompletion,data:enrolcompletionmonth.completion,backgroundColor:"rgba(255, 102, 48, 1)",showTooltips:!1}]},options:{indexAxis:"y",responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!0,text:""}},scales:{y:{beginAtZero:!0}}}};chartReport=new Chart(ctx,config)}}(),$(".enrol-completion-month-block .dropdown-menu a").click((function(){var selText=$(this).text(),filter=$(this).attr("value");$(this).parents(".dropdown").find("#daterangefiltermenu").html(selText+' <span class="caret"></span>'),function(filter){var request={methodname:"report_lmsace_reports_enrollment_completion_month",args:{filter:filter,chartid:"enrolcompletionmonthwidget"}},promise=AJAX.call([request])[0];promise.done((function(result){!function(result){chartReport.data.labels=result.label,chartReport.data.datasets[0].data=result.enrolment,chartReport.data.datasets[1].data=result.completion,chartReport.update()}(result)})),LoadIcon.addIconToContainerRemoveOnCompletion(loadiconElement,promise)}(filter)}))}}}));

//# sourceMappingURL=enroll_completion_month.min.js.map